(function(global,factory){"use strict";if(typeof define==="function"&&define.amd){define(["jquery"],function($){return factory($,global,global.document,global.Math)})}else if(typeof exports!=="undefined"){module.exports=factory(require("jquery"),global,global.document,global.Math)}else{factory(jQuery,global,global.document,global.Math)}})(typeof window!=="undefined"?window:this,function($,window,document,Math,undefined){"use strict";var WRAPPER="fullpage-wrapper";var WRAPPER_SEL="."+WRAPPER;var SCROLLABLE="fp-scrollable";var SCROLLABLE_SEL="."+SCROLLABLE;var SLIMSCROLL_BAR_SEL=".slimScrollBar";var SLIMSCROLL_RAIL_SEL=".slimScrollRail";var RESPONSIVE="fp-responsive";var NO_TRANSITION="fp-notransition";var DESTROYED="fp-destroyed";var ENABLED="fp-enabled";var VIEWING_PREFIX="fp-viewing";var ACTIVE="active";var ACTIVE_SEL="."+ACTIVE;var SECTION_DEFAULT_SEL=".section";var SECTION="fp-section";var SECTION_SEL="."+SECTION;var SECTION_ACTIVE_SEL=SECTION_SEL+ACTIVE_SEL;var SECTION_FIRST_SEL=SECTION_SEL+":first";var SECTION_LAST_SEL=SECTION_SEL+":last";var TABLE_CELL="fp-tableCell";var TABLE_CELL_SEL="."+TABLE_CELL;var SECTION_NAV="fp-nav";var SECTION_NAV_SEL="#"+SECTION_NAV;var SECTION_NAV_TOOLTIP="fp-tooltip";var SHOW_ACTIVE_TOOLTIP="fp-show-active";var SLIDE_DEFAULT_SEL=".slide";var SLIDE="fp-slide";var SLIDE_SEL="."+SLIDE;var SLIDE_ACTIVE_SEL=SLIDE_SEL+ACTIVE_SEL;var SLIDES_WRAPPER="fp-slides";var SLIDES_WRAPPER_SEL="."+SLIDES_WRAPPER;var SLIDES_CONTAINER="fp-slidesContainer";var SLIDES_CONTAINER_SEL="."+SLIDES_CONTAINER;var TABLE="fp-table";var SLIDES_NAV="fp-slidesNav";var SLIDES_NAV_SEL="."+SLIDES_NAV;var SLIDES_NAV_LINK_SEL=SLIDES_NAV_SEL+" a";var SLIDES_ARROW="fp-controlArrow";var SLIDES_ARROW_SEL="."+SLIDES_ARROW;var SLIDES_PREV="fp-prev";var SLIDES_PREV_SEL="."+SLIDES_PREV;var SLIDES_ARROW_PREV=SLIDES_ARROW+" "+SLIDES_PREV;var SLIDES_ARROW_PREV_SEL=SLIDES_ARROW_SEL+SLIDES_PREV_SEL;var SLIDES_NEXT="fp-next";var SLIDES_NEXT_SEL="."+SLIDES_NEXT;var SLIDES_ARROW_NEXT=SLIDES_ARROW+" "+SLIDES_NEXT;var SLIDES_ARROW_NEXT_SEL=SLIDES_ARROW_SEL+SLIDES_NEXT_SEL;var $window=$(window);var $document=$(document);$.fn.fullpage=function(options){var $htmlBody=$("html, body");var $body=$("body");var FP=$.fn.fullpage;options=$.extend({menu:false,anchors:[],navigation:false,navigationPosition:"right",navigationTooltips:[],showActiveTooltip:false,slidesNavigation:false,slidesNavPosition:"bottom",scrollBar:false,css3:true,scrollingSpeed:700,autoScrolling:true,fitToSection:true,easing:"easeInOutCubic",easingcss3:"ease",loopBottom:false,loopTop:false,loopHorizontal:true,continuousVertical:false,normalScrollElements:null,scrollOverflow:false,touchSensitivity:5,normalScrollElementTouchThreshold:5,keyboardScrolling:true,animateAnchor:true,recordHistory:true,controlArrows:true,controlArrowColor:"#fff",verticalCentered:true,resize:false,sectionsColor:[],paddingTop:0,paddingBottom:0,fixedElements:null,responsive:0,sectionSelector:SECTION_DEFAULT_SEL,slideSelector:SLIDE_DEFAULT_SEL,afterLoad:null,onLeave:null,afterRender:null,afterResize:null,afterReBuild:null,afterSlideLoad:null,onSlideLeave:null},options);displayWarnings();$.extend($.easing,{easeInOutCubic:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t+b;return c/2*((t-=2)*t*t+2)+b}});$.extend($.easing,{easeInQuart:function(x,t,b,c,d){return c*(t/=d)*t*t*t+b}});FP.setAutoScrolling=function(value,type){setVariableState("autoScrolling",value,type);var element=$(SECTION_ACTIVE_SEL);if(options.autoScrolling&&!options.scrollBar){$htmlBody.css({overflow:"hidden",height:"100%"});FP.setRecordHistory(options.recordHistory,"internal");container.css({"-ms-touch-action":"none","touch-action":"none"});if(element.length){silentScroll(element.position().top)}}else{$htmlBody.css({overflow:"visible",height:"initial"});FP.setRecordHistory(false,"internal");container.css({"-ms-touch-action":"","touch-action":""});silentScroll(0);if(element.length){$htmlBody.scrollTop(element.position().top)}}};FP.setRecordHistory=function(value,type){setVariableState("recordHistory",value,type)};FP.setScrollingSpeed=function(value,type){setVariableState("scrollingSpeed",value,type)};FP.setFitToSection=function(value,type){setVariableState("fitToSection",value,type)};FP.setMouseWheelScrolling=function(value){if(value){addMouseWheelHandler()}else{removeMouseWheelHandler()}};FP.setAllowScrolling=function(value,directions){if(typeof directions!="undefined"){directions=directions.replace(/ /g,"").split(",");$.each(directions,function(index,direction){setIsScrollable(value,direction)})}else if(value){FP.setMouseWheelScrolling(true);addTouchHandler()}else{FP.setMouseWheelScrolling(false);removeTouchHandler()}};FP.setKeyboardScrolling=function(value){options.keyboardScrolling=value};FP.moveSectionUp=function(){var prev=$(SECTION_ACTIVE_SEL).prev(SECTION_SEL);if(!prev.length&&(options.loopTop||options.continuousVertical)){prev=$(SECTION_SEL).last()}if(prev.length){scrollPage(prev,null,true)}};FP.moveSectionDown=function(){var next=$(SECTION_ACTIVE_SEL).next(SECTION_SEL);if(!next.length&&(options.loopBottom||options.continuousVertical)){next=$(SECTION_SEL).first()}if(next.length){scrollPage(next,null,false)}};FP.silentMoveTo=function(sectionAnchor,slideAnchor){FP.setScrollingSpeed(0,"internal");FP.moveTo(sectionAnchor,slideAnchor);FP.setScrollingSpeed(originals.scrollingSpeed,"internal")};FP.moveTo=function(sectionAnchor,slideAnchor){var destiny=getSectionByAnchor(sectionAnchor);if(typeof slideAnchor!=="undefined"){scrollPageAndSlide(sectionAnchor,slideAnchor)}else if(destiny.length>0){scrollPage(destiny)}};FP.moveSlideRight=function(){moveSlide("next")};FP.moveSlideLeft=function(){moveSlide("prev")};FP.reBuild=function(resizing){if(container.hasClass(DESTROYED)){return}isResizing=true;var windowsWidth=$window.width();windowsHeight=$window.height();if(options.resize){resizeMe(windowsHeight,windowsWidth)}$(SECTION_SEL).each(function(){var slidesWrap=$(this).find(SLIDES_WRAPPER_SEL);var slides=$(this).find(SLIDE_SEL);if(options.verticalCentered){$(this).find(TABLE_CELL_SEL).css("height",getTableHeight($(this))+"px")}$(this).css("height",windowsHeight+"px");if(options.scrollOverflow){if(slides.length){slides.each(function(){createSlimScrolling($(this))})}else{createSlimScrolling($(this))}}if(slides.length>1){landscapeScroll(slidesWrap,slidesWrap.find(SLIDE_ACTIVE_SEL))}});var activeSection=$(SECTION_ACTIVE_SEL);var sectionIndex=activeSection.index(SECTION_SEL);if(sectionIndex){FP.silentMoveTo(sectionIndex+1)}isResizing=false;$.isFunction(options.afterResize)&&resizing&&options.afterResize.call(container);$.isFunction(options.afterReBuild)&&!resizing&&options.afterReBuild.call(container)};var slideMoving=false;var isTouchDevice=navigator.userAgent.match(/(iPhone|iPod|iPad|Android|playbook|silk|BlackBerry|BB10|Windows Phone|Tizen|Bada|webOS|IEMobile|Opera Mini)/);var isTouch="ontouchstart"in window||navigator.msMaxTouchPoints>0||navigator.maxTouchPoints;var container=$(this);var windowsHeight=$window.height();var isResizing=false;var lastScrolledDestiny;var lastScrolledSlide;var canScroll=true;var scrollings=[];var nav;var controlPressed;var isScrollAllowed={up:true,down:true,left:true,right:true};var originals=$.extend(true,{},options);if($(this).length){container.css({height:"100%",position:"relative"});container.addClass(WRAPPER);$("html").addClass(ENABLED)}else{showError("error","Error! Fullpage.js needs to be initialized with a selector. For example: $('#myContainer').fullpage();")}if(options.css3){options.css3=support3d()}FP.setAllowScrolling(true);container.removeClass(DESTROYED);$(options.sectionSelector).each(function(){$(this).addClass(SECTION)});$(options.slideSelector).each(function(){$(this).addClass(SLIDE)});if(options.navigation){addVerticalNavigation()}$(SECTION_SEL).each(function(index){var that=$(this);var slides=$(this).find(SLIDE_SEL);var numSlides=slides.length;if(!index&&$(SECTION_ACTIVE_SEL).length===0){$(this).addClass(ACTIVE)}$(this).css("height",windowsHeight+"px");if(options.paddingTop){$(this).css("padding-top",options.paddingTop)}if(options.paddingBottom){$(this).css("padding-bottom",options.paddingBottom)}if(typeof options.sectionsColor[index]!=="undefined"){$(this).css("background-color",options.sectionsColor[index])}if(typeof options.anchors[index]!=="undefined"){$(this).attr("data-anchor",options.anchors[index]);if($(this).hasClass(ACTIVE)){activateMenuAndNav(options.anchors[index],index)}}if(numSlides>0){var sliderWidth=numSlides*100;var slideWidth=100/numSlides;slides.wrapAll('<div class="'+SLIDES_CONTAINER+'" />');slides.parent().wrap('<div class="'+SLIDES_WRAPPER+'" />');$(this).find(SLIDES_CONTAINER_SEL).css("width",sliderWidth+"%");if(options.controlArrows&&numSlides>1){createSlideArrows($(this))}if(options.slidesNavigation){addSlidesNavigation($(this),numSlides)}slides.each(function(index){$(this).css("width",slideWidth+"%");if(options.verticalCentered){addTableClass($(this))}});var startingSlide=that.find(SLIDE_ACTIVE_SEL);if(!startingSlide.length){slides.eq(0).addClass(ACTIVE)}else{silentLandscapeScroll(startingSlide)}}else{if(options.verticalCentered){addTableClass($(this))}}}).promise().done(function(){FP.setAutoScrolling(options.autoScrolling,"internal");var activeSlide=$(SECTION_ACTIVE_SEL).find(SLIDE_ACTIVE_SEL);if(activeSlide.length&&($(SECTION_ACTIVE_SEL).index(SECTION_SEL)!==0||$(SECTION_ACTIVE_SEL).index(SECTION_SEL)===0&&activeSlide.index()!==0)){silentLandscapeScroll(activeSlide)}if(options.fixedElements&&options.css3){$(options.fixedElements).appendTo($body)}if(options.navigation){nav.css("margin-top","-"+nav.height()/2+"px");nav.find("li").eq($(SECTION_ACTIVE_SEL).index(SECTION_SEL)).find("a").addClass(ACTIVE)}if(options.menu&&options.css3&&$(options.menu).closest(WRAPPER_SEL).length){$(options.menu).appendTo($body)}if(options.scrollOverflow){if(document.readyState==="complete"){createSlimScrollingHandler()}$window.on("load",createSlimScrollingHandler)}else{afterRenderActions()}responsive();if(!options.animateAnchor){var value=window.location.hash.replace("#","").split("/");var destiny=value[0];if(destiny.length){var section=$('[data-anchor="'+destiny+'"]');if(section.length){if(options.autoScrolling){silentScroll(section.position().top)}else{silentScroll(0);$htmlBody.scrollTop(section.position().top)}activateMenuAndNav(destiny,null);$.isFunction(options.afterLoad)&&options.afterLoad.call(section,destiny,section.index(SECTION_SEL)+1);section.addClass(ACTIVE).siblings().removeClass(ACTIVE)}}}setBodyClass();$window.on("load",function(){scrollToAnchor()})});function createSlideArrows(section){section.find(SLIDES_WRAPPER_SEL).after('<div class="'+SLIDES_ARROW_PREV+'"></div><div class="'+SLIDES_ARROW_NEXT+'"></div>');if(options.controlArrowColor!="#fff"){section.find(SLIDES_ARROW_NEXT_SEL).css("border-color","transparent transparent transparent "+options.controlArrowColor);section.find(SLIDES_ARROW_PREV_SEL).css("border-color","transparent "+options.controlArrowColor+" transparent transparent")}if(!options.loopHorizontal){section.find(SLIDES_ARROW_PREV_SEL).hide()}}function addVerticalNavigation(){$body.append('<div id="'+SECTION_NAV+'"><ul></ul></div>');nav=$(SECTION_NAV_SEL);nav.addClass(function(){return options.showActiveTooltip?SHOW_ACTIVE_TOOLTIP+" "+options.navigationPosition:options.navigationPosition});for(var i=0;i<$(SECTION_SEL).length;i++){var link="";if(options.anchors.length){link=options.anchors[i]}var li='<li><a href="#'+link+'"><span></span></a>';var tooltip=options.navigationTooltips[i];if(typeof tooltip!=="undefined"&&tooltip!==""){li+='<div class="'+SECTION_NAV_TOOLTIP+" "+options.navigationPosition+'">'+tooltip+"</div>"}li+="</li>";nav.find("ul").append(li)}}function createSlimScrollingHandler(){$(SECTION_SEL).each(function(){var slides=$(this).find(SLIDE_SEL);if(slides.length){slides.each(function(){createSlimScrolling($(this))})}else{createSlimScrolling($(this))}});afterRenderActions()}function afterRenderActions(){var section=$(SECTION_ACTIVE_SEL);section.find(".fp-scrollable").mouseover();$.isFunction(options.afterLoad)&&options.afterLoad.call(section,section.data("anchor"),section.index(SECTION_SEL)+1);$.isFunction(options.afterRender)&&options.afterRender.call(this)}var scrollId;var scrollId2;var isScrolling=false;$window.on("scroll",scrollHandler);function scrollHandler(){var currentSection;if(!options.autoScrolling||options.scrollBar){var currentScroll=$window.scrollTop();var visibleSectionIndex=0;var initial=Math.abs(currentScroll-document.querySelectorAll(SECTION_SEL)[0].offsetTop);var sections=document.querySelectorAll(SECTION_SEL);for(var i=0;i<sections.length;++i){var section=sections[i];var current=Math.abs(currentScroll-section.offsetTop);if(current<initial){visibleSectionIndex=i;initial=current}}currentSection=$(sections).eq(visibleSectionIndex)}if(!options.autoScrolling||options.scrollBar){if(!currentSection.hasClass(ACTIVE)){isScrolling=true;var leavingSection=$(SECTION_ACTIVE_SEL);var leavingSectionIndex=leavingSection.index(SECTION_SEL)+1;var yMovement=getYmovement(currentSection);var anchorLink=currentSection.data("anchor");var sectionIndex=currentSection.index(SECTION_SEL)+1;var activeSlide=currentSection.find(SLIDE_ACTIVE_SEL);if(activeSlide.length){var slideAnchorLink=activeSlide.data("anchor");var slideIndex=activeSlide.index()}if(canScroll){currentSection.addClass(ACTIVE).siblings().removeClass(ACTIVE);$.isFunction(options.onLeave)&&options.onLeave.call(leavingSection,leavingSectionIndex,sectionIndex,yMovement);$.isFunction(options.afterLoad)&&options.afterLoad.call(currentSection,anchorLink,sectionIndex);activateMenuAndNav(anchorLink,sectionIndex-1);if(options.anchors.length){lastScrolledDestiny=anchorLink;setState(slideIndex,slideAnchorLink,anchorLink,sectionIndex)}}clearTimeout(scrollId);scrollId=setTimeout(function(){isScrolling=false},100)}if(options.fitToSection){clearTimeout(scrollId2);scrollId2=setTimeout(function(){if(canScroll){if($(SECTION_ACTIVE_SEL).is(currentSection)){isResizing=true}scrollPage(currentSection);isResizing=false}},1e3)}}}function isScrollable(activeSection){if(activeSection.find(SLIDES_WRAPPER_SEL).length){return activeSection.find(SLIDE_ACTIVE_SEL).find(SCROLLABLE_SEL)}return activeSection.find(SCROLLABLE_SEL)}function scrolling(type,scrollable){if(!isScrollAllowed[type]){return}var check,scrollSection;if(type=="down"){check="bottom";scrollSection=FP.moveSectionDown}else{check="top";scrollSection=FP.moveSectionUp}if(scrollable.length>0){if(isScrolled(check,scrollable)){scrollSection()}else{return true}}else{scrollSection()}}var touchStartY=0;var touchStartX=0;var touchEndY=0;var touchEndX=0;function touchMoveHandler(event){var e=event.originalEvent;if(!checkParentForNormalScrollElement(event.target)&&isReallyTouch(e)){if(options.autoScrolling){event.preventDefault()}var activeSection=$(SECTION_ACTIVE_SEL);var scrollable=isScrollable(activeSection);if(canScroll&&!slideMoving){var touchEvents=getEventsPage(e);touchEndY=touchEvents.y;touchEndX=touchEvents.x;if(activeSection.find(SLIDES_WRAPPER_SEL).length&&Math.abs(touchStartX-touchEndX)>Math.abs(touchStartY-touchEndY)){if(Math.abs(touchStartX-touchEndX)>$window.width()/100*options.touchSensitivity){if(touchStartX>touchEndX){if(isScrollAllowed.right){FP.moveSlideRight()}}else{if(isScrollAllowed.left){FP.moveSlideLeft()}}}}else if(options.autoScrolling){if(Math.abs(touchStartY-touchEndY)>$window.height()/100*options.touchSensitivity){if(touchStartY>touchEndY){scrolling("down",scrollable)}else if(touchEndY>touchStartY){scrolling("up",scrollable)}}}}}}function checkParentForNormalScrollElement(el,hop){hop=hop||0;var parent=$(el).parent();if(hop<options.normalScrollElementTouchThreshold&&parent.is(options.normalScrollElements)){return true}else if(hop==options.normalScrollElementTouchThreshold){return false}else{return checkParentForNormalScrollElement(parent,++hop)}}function isReallyTouch(e){return typeof e.pointerType==="undefined"||e.pointerType!="mouse"}function touchStartHandler(event){var e=event.originalEvent;if(options.fitToSection){$htmlBody.stop()}if(isReallyTouch(e)){var touchEvents=getEventsPage(e);touchStartY=touchEvents.y;touchStartX=touchEvents.x}}function getAverage(elements,number){var sum=0;var lastElements=elements.slice(Math.max(elements.length-number,1));for(var i=0;i<lastElements.length;i++){sum=sum+lastElements[i]}return Math.ceil(sum/number)}var prevTime=(new Date).getTime();function MouseWheelHandler(e){var curTime=(new Date).getTime();if(options.autoScrolling&&!controlPressed){e=window.event||e;var value=e.wheelDelta||-e.deltaY||-e.detail;var delta=Math.max(-1,Math.min(1,value));if(scrollings.length>149){scrollings.shift()}scrollings.push(Math.abs(value));if(options.scrollBar){e.preventDefault?e.preventDefault():e.returnValue=false}var activeSection=$(SECTION_ACTIVE_SEL);var scrollable=isScrollable(activeSection);var timeDiff=curTime-prevTime;prevTime=curTime;if(timeDiff>200){scrollings=[]}if(canScroll){var averageEnd=getAverage(scrollings,10);var averageMiddle=getAverage(scrollings,70);var isAccelerating=averageEnd>=averageMiddle;if(isAccelerating){if(delta<0){scrolling("down",scrollable)}else{scrolling("up",scrollable)}}}return false}if(options.fitToSection){$htmlBody.stop()}}function moveSlide(direction){var activeSection=$(SECTION_ACTIVE_SEL);var slides=activeSection.find(SLIDES_WRAPPER_SEL);if(!slides.length||slideMoving){return}var currentSlide=slides.find(SLIDE_ACTIVE_SEL);var destiny=null;if(direction==="prev"){destiny=currentSlide.prev(SLIDE_SEL)}else{destiny=currentSlide.next(SLIDE_SEL)}if(!destiny.length){if(!options.loopHorizontal)return;if(direction==="prev"){destiny=currentSlide.siblings(":last")}else{destiny=currentSlide.siblings(":first")}}slideMoving=true;landscapeScroll(slides,destiny)}function keepSlidesPosition(){$(SLIDE_ACTIVE_SEL).each(function(){silentLandscapeScroll($(this),"internal")})}function scrollPage(element,callback,isMovementUp){var dest=element.position();if(typeof dest==="undefined"){return}var v={element:element,callback:callback,isMovementUp:isMovementUp,dest:dest,dtop:dest.top,yMovement:getYmovement(element),anchorLink:element.data("anchor"),sectionIndex:element.index(SECTION_SEL),activeSlide:element.find(SLIDE_ACTIVE_SEL),activeSection:$(SECTION_ACTIVE_SEL),leavingSection:$(SECTION_ACTIVE_SEL).index(SECTION_SEL)+1,localIsResizing:isResizing};if(v.activeSection.is(element)&&!isResizing||options.scrollBar&&$window.scrollTop()===v.dtop){return}if(v.activeSlide.length){var slideAnchorLink=v.activeSlide.data("anchor");var slideIndex=v.activeSlide.index()}if(options.autoScrolling&&options.continuousVertical&&typeof v.isMovementUp!=="undefined"&&(!v.isMovementUp&&v.yMovement=="up"||v.isMovementUp&&v.yMovement=="down")){v=createInfiniteSections(v)}element.addClass(ACTIVE).siblings().removeClass(ACTIVE);canScroll=false;setState(slideIndex,slideAnchorLink,v.anchorLink,v.sectionIndex);$.isFunction(options.onLeave)&&!v.localIsResizing&&options.onLeave.call(v.activeSection,v.leavingSection,v.sectionIndex+1,v.yMovement);performMovement(v);lastScrolledDestiny=v.anchorLink;activateMenuAndNav(v.anchorLink,v.sectionIndex)}function performMovement(v){if(options.css3&&options.autoScrolling&&!options.scrollBar){var translate3d="translate3d(0px, -"+v.dtop+"px, 0px)";transformContainer(translate3d,true);if(options.scrollingSpeed){setTimeout(function(){afterSectionLoads(v)},options.scrollingSpeed)}else{afterSectionLoads(v)}}else{var scrollSettings=getScrollSettings(v);$(scrollSettings.element).animate(scrollSettings.options,options.scrollingSpeed,options.easing).promise().done(function(){afterSectionLoads(v)})}}function getScrollSettings(v){var scroll={};if(options.autoScrolling&&!options.scrollBar){scroll.options={top:-v.dtop};scroll.element=WRAPPER_SEL}else{scroll.options={scrollTop:v.dtop};scroll.element="html, body"}return scroll}function createInfiniteSections(v){if(!v.isMovementUp){$(SECTION_ACTIVE_SEL).after(v.activeSection.prevAll(SECTION_SEL).get().reverse())}else{$(SECTION_ACTIVE_SEL).before(v.activeSection.nextAll(SECTION_SEL))}silentScroll($(SECTION_ACTIVE_SEL).position().top);keepSlidesPosition();v.wrapAroundElements=v.activeSection;v.dest=v.element.position();v.dtop=v.dest.top;v.yMovement=getYmovement(v.element);return v}function continuousVerticalFixSectionOrder(v){if(!v.wrapAroundElements||!v.wrapAroundElements.length){return}if(v.isMovementUp){$(SECTION_FIRST_SEL).before(v.wrapAroundElements)}else{$(SECTION_LAST_SEL).after(v.wrapAroundElements)}silentScroll($(SECTION_ACTIVE_SEL).position().top);keepSlidesPosition()}function afterSectionLoads(v){continuousVerticalFixSectionOrder(v);v.element.find(".fp-scrollable").mouseover();$.isFunction(options.afterLoad)&&!v.localIsResizing&&options.afterLoad.call(v.element,v.anchorLink,v.sectionIndex+1);canScroll=true;$.isFunction(v.callback)&&v.callback.call(this)}function scrollToAnchor(){var value=window.location.hash.replace("#","").split("/");var section=value[0];var slide=value[1];if(section){scrollPageAndSlide(section,slide)}}$window.on("hashchange",hashChangeHandler);function hashChangeHandler(){if(!isScrolling){var value=window.location.hash.replace("#","").split("/");var section=value[0];var slide=value[1];if(section.length){var isFirstSlideMove=typeof lastScrolledDestiny==="undefined";var isFirstScrollMove=typeof lastScrolledDestiny==="undefined"&&typeof slide==="undefined"&&!slideMoving;if(section&&section!==lastScrolledDestiny&&!isFirstSlideMove||isFirstScrollMove||!slideMoving&&lastScrolledSlide!=slide){scrollPageAndSlide(section,slide)}}}}$document.keydown(keydownHandler);$document.keyup(function(e){controlPressed=e.ctrlKey});var keydownId;function keydownHandler(e){clearTimeout(keydownId);controlPressed=e.ctrlKey;var activeElement=$(document.activeElement);if(!activeElement.is("textarea")&&!activeElement.is("input")&&!activeElement.is("select")&&options.keyboardScrolling&&options.autoScrolling){var keyCode=e.which;var keyControls=[40,38,32,33,34];if($.inArray(keyCode,keyControls)>-1){e.preventDefault()}keydownId=setTimeout(function(){onkeydown(e)},150)}}function onkeydown(e){var shiftPressed=e.shiftKey;switch(e.which){case 38:case 33:FP.moveSectionUp();break;case 32:if(shiftPressed){FP.moveSectionUp();break}case 40:case 34:FP.moveSectionDown();break;case 36:FP.moveTo(1);break;case 35:FP.moveTo($(SECTION_SEL).length);break;case 37:FP.moveSlideLeft();break;case 39:FP.moveSlideRight();break;default:return}}container.mousedown(function(e){if(e.which==2){oldPageY=e.pageY;container.on("mousemove",mouseMoveHandler)}});container.mouseup(function(e){if(e.which==2){container.off("mousemove")}});var oldPageY=0;function mouseMoveHandler(e){if(canScroll){if(e.pageY<oldPageY){FP.moveSectionUp()}else if(e.pageY>oldPageY){FP.moveSectionDown()}}oldPageY=e.pageY}$document.on("click touchstart",SECTION_NAV_SEL+" a",function(e){e.preventDefault();var index=$(this).parent().index();scrollPage($(SECTION_SEL).eq(index))});$document.on("click touchstart",SLIDES_NAV_LINK_SEL,function(e){e.preventDefault();var slides=$(this).closest(SECTION_SEL).find(SLIDES_WRAPPER_SEL);var destiny=slides.find(SLIDE_SEL).eq($(this).closest("li").index());landscapeScroll(slides,destiny)});if(options.normalScrollElements){$document.on("mouseenter",options.normalScrollElements,function(){FP.setMouseWheelScrolling(false)});$document.on("mouseleave",options.normalScrollElements,function(){FP.setMouseWheelScrolling(true)})}$(SECTION_SEL).on("click touchstart",SLIDES_ARROW_SEL,function(){if($(this).hasClass(SLIDES_PREV)){if(isScrollAllowed.left){FP.moveSlideLeft()}}else{if(isScrollAllowed.right){FP.moveSlideRight()}}});function landscapeScroll(slides,destiny){var destinyPos=destiny.position();var slideIndex=destiny.index();var section=slides.closest(SECTION_SEL);var sectionIndex=section.index(SECTION_SEL);var anchorLink=section.data("anchor");var slidesNav=section.find(SLIDES_NAV_SEL);var slideAnchor=getSlideAnchor(destiny);var localIsResizing=isResizing;if(options.onSlideLeave){var prevSlide=section.find(SLIDE_ACTIVE_SEL);var prevSlideIndex=prevSlide.index();var xMovement=getXmovement(prevSlideIndex,slideIndex);if(!localIsResizing&&xMovement!=="none"){$.isFunction(options.onSlideLeave)&&options.onSlideLeave.call(prevSlide,anchorLink,sectionIndex+1,prevSlideIndex,xMovement)}}destiny.addClass(ACTIVE).siblings().removeClass(ACTIVE);if(!options.loopHorizontal&&options.controlArrows){section.find(SLIDES_ARROW_PREV_SEL).toggle(slideIndex!==0);section.find(SLIDES_ARROW_NEXT_SEL).toggle(!destiny.is(":last-child"))}if(section.hasClass(ACTIVE)){setState(slideIndex,slideAnchor,anchorLink,sectionIndex)}var afterSlideLoads=function(){if(!localIsResizing){$.isFunction(options.afterSlideLoad)&&options.afterSlideLoad.call(destiny,anchorLink,sectionIndex+1,slideAnchor,slideIndex)}slideMoving=false};if(options.css3){var translate3d="translate3d(-"+Math.round(destinyPos.left)+"px, 0px, 0px)";addAnimation(slides.find(SLIDES_CONTAINER_SEL),options.scrollingSpeed>0).css(getTransforms(translate3d));setTimeout(function(){afterSlideLoads()},options.scrollingSpeed,options.easing)}else{slides.animate({scrollLeft:Math.round(destinyPos.left)},options.scrollingSpeed,options.easing,function(){afterSlideLoads()})}slidesNav.find(ACTIVE_SEL).removeClass(ACTIVE);slidesNav.find("li").eq(slideIndex).find("a").addClass(ACTIVE)}$window.resize(resizeHandler);var previousHeight=windowsHeight;var resizeId;function resizeHandler(){responsive();if(isTouchDevice){var activeElement=$(document.activeElement);if(!activeElement.is("textarea")&&!activeElement.is("input")&&!activeElement.is("select")){var currentHeight=$window.height();if(Math.abs(currentHeight-previousHeight)>20*Math.max(previousHeight,currentHeight)/100){FP.reBuild(true);previousHeight=currentHeight}}}else{clearTimeout(resizeId);resizeId=setTimeout(function(){FP.reBuild(true)},350)}}function responsive(){if(options.responsive){var isResponsive=container.hasClass(RESPONSIVE),setResponsive=false;if(typeof options.responsive==="function"){setResponsive=options.responsive()}else if($window.width()<options.responsive){setResponsive=true}if(setResponsive){if(!isResponsive){FP.setAutoScrolling(false,"internal");FP.setFitToSection(false,"internal");$(SECTION_NAV_SEL).hide();container.addClass(RESPONSIVE)}}else if(isResponsive){FP.setAutoScrolling(originals.autoScrolling,"internal");FP.setFitToSection(originals.autoScrolling,"internal");$(SECTION_NAV_SEL).show();container.removeClass(RESPONSIVE)}}}function addAnimation(element){var transition="all "+options.scrollingSpeed+"ms "+options.easingcss3;element.removeClass(NO_TRANSITION);return element.css({"-webkit-transition":transition,transition:transition})}function removeAnimation(element){return element.addClass(NO_TRANSITION)}function resizeMe(displayHeight,displayWidth){var preferredHeight=825;var preferredWidth=900;if(displayHeight<preferredHeight||displayWidth<preferredWidth){var heightPercentage=displayHeight*100/preferredHeight;var widthPercentage=displayWidth*100/preferredWidth;var percentage=Math.min(heightPercentage,widthPercentage);var newFontSize=percentage.toFixed(2);$body.css("font-size",newFontSize+"%")}else{$body.css("font-size","100%")}}function activateNavDots(name,sectionIndex){if(options.navigation){$(SECTION_NAV_SEL).find(ACTIVE_SEL).removeClass(ACTIVE);if(name){$(SECTION_NAV_SEL).find('a[href="#'+name+'"]').addClass(ACTIVE)}else{$(SECTION_NAV_SEL).find("li").eq(sectionIndex).find("a").addClass(ACTIVE)}}}function activateMenuElement(name){if(options.menu){$(options.menu).find(ACTIVE_SEL).removeClass(ACTIVE);$(options.menu).find('[data-menuanchor="'+name+'"]').addClass(ACTIVE)}}function activateMenuAndNav(anchor,index){activateMenuElement(anchor);activateNavDots(anchor,index)}function isScrolled(type,scrollable){if(type==="top"){return!scrollable.scrollTop()}else if(type==="bottom"){return scrollable.scrollTop()+1+scrollable.innerHeight()>=scrollable[0].scrollHeight}}function getYmovement(destiny){var fromIndex=$(SECTION_ACTIVE_SEL).index(SECTION_SEL);var toIndex=destiny.index(SECTION_SEL);if(fromIndex==toIndex){return"none"}if(fromIndex>toIndex){return"up"}return"down"}function getXmovement(fromIndex,toIndex){if(fromIndex==toIndex){return"none"}if(fromIndex>toIndex){return"left"}return"right"}function createSlimScrolling(element){element.css("overflow","hidden");var section=element.closest(SECTION_SEL);var scrollable=element.find(SCROLLABLE_SEL);var contentHeight;if(scrollable.length){contentHeight=scrollable.get(0).scrollHeight}else{contentHeight=element.get(0).scrollHeight;if(options.verticalCentered){contentHeight=element.find(TABLE_CELL_SEL).get(0).scrollHeight}}var scrollHeight=windowsHeight-parseInt(section.css("padding-bottom"))-parseInt(section.css("padding-top"));if(contentHeight>scrollHeight){if(scrollable.length){scrollable.css("height",scrollHeight+"px").parent().css("height",scrollHeight+"px")}else{if(options.verticalCentered){element.find(TABLE_CELL_SEL).wrapInner('<div class="'+SCROLLABLE+'" />')}else{element.wrapInner('<div class="'+SCROLLABLE+'" />')}element.find(SCROLLABLE_SEL).slimScroll({allowPageScroll:true,height:scrollHeight+"px",size:"10px",alwaysVisible:true})}}else{removeSlimScroll(element)}element.css("overflow","")}function removeSlimScroll(element){element.find(SCROLLABLE_SEL).children().first().unwrap().unwrap();element.find(SLIMSCROLL_BAR_SEL).remove();element.find(SLIMSCROLL_RAIL_SEL).remove()}function addTableClass(element){element.addClass(TABLE).wrapInner('<div class="'+TABLE_CELL+'" style="height:'+getTableHeight(element)+'px;" />')}function getTableHeight(element){var sectionHeight=windowsHeight;if(options.paddingTop||options.paddingBottom){var section=element;if(!section.hasClass(SECTION)){section=element.closest(SECTION_SEL)}var paddings=parseInt(section.css("padding-top"))+parseInt(section.css("padding-bottom"));sectionHeight=windowsHeight-paddings}return sectionHeight}function transformContainer(translate3d,animated){if(animated){addAnimation(container)}else{removeAnimation(container)}container.css(getTransforms(translate3d));setTimeout(function(){container.removeClass(NO_TRANSITION)},10)}function getSectionByAnchor(sectionAnchor){var section=$(SECTION_SEL+'[data-anchor="'+sectionAnchor+'"]');if(!section.length){section=$(SECTION_SEL).eq(sectionAnchor-1)}return section}function getSlideByAnchor(slideAnchor,section){var slides=section.find(SLIDES_WRAPPER_SEL);var slide=slides.find(SLIDE_SEL+'[data-anchor="'+slideAnchor+'"]');if(!slide.length){slide=slides.find(SLIDE_SEL).eq(slideAnchor)}return slide}function scrollPageAndSlide(destiny,slide){var section=getSectionByAnchor(destiny);if(typeof slide==="undefined"){slide=0}if(destiny!==lastScrolledDestiny&&!section.hasClass(ACTIVE)){scrollPage(section,function(){scrollSlider(section,slide)})}else{scrollSlider(section,slide)}}function scrollSlider(section,slideAnchor){if(typeof slideAnchor!=="undefined"){var slides=section.find(SLIDES_WRAPPER_SEL);var destiny=getSlideByAnchor(slideAnchor,section);if(destiny.length){landscapeScroll(slides,destiny)}}}function addSlidesNavigation(section,numSlides){section.append('<div class="'+SLIDES_NAV+'"><ul></ul></div>');var nav=section.find(SLIDES_NAV_SEL);nav.addClass(options.slidesNavPosition);for(var i=0;i<numSlides;i++){nav.find("ul").append('<li><a href="#"><span></span></a></li>')}nav.css("margin-left","-"+nav.width()/2+"px");nav.find("li").first().find("a").addClass(ACTIVE)}function setState(slideIndex,slideAnchor,anchorLink,sectionIndex){var sectionHash="";if(options.anchors.length){if(slideIndex){if(typeof anchorLink!=="undefined"){sectionHash=anchorLink}if(typeof slideAnchor==="undefined"){slideAnchor=slideIndex}lastScrolledSlide=slideAnchor;setUrlHash(sectionHash+"/"+slideAnchor)}else if(typeof slideIndex!=="undefined"){lastScrolledSlide=slideAnchor;setUrlHash(anchorLink)}else{setUrlHash(anchorLink)}}setBodyClass()}function setUrlHash(url){if(options.recordHistory){location.hash=url
}else{if(isTouchDevice||isTouch){history.replaceState(undefined,undefined,"#"+url)}else{var baseUrl=window.location.href.split("#")[0];window.location.replace(baseUrl+"#"+url)}}}function getSlideAnchor(slide){var slideAnchor=slide.data("anchor");var slideIndex=slide.index();if(typeof slideAnchor==="undefined"){slideAnchor=slideIndex}return slideAnchor}function setBodyClass(){var section=$(SECTION_ACTIVE_SEL);var slide=section.find(SLIDE_ACTIVE_SEL);var sectionAnchor=section.data("anchor");var slideAnchor=getSlideAnchor(slide);var sectionIndex=section.index(SECTION_SEL);var text=String(sectionIndex);if(options.anchors.length){text=sectionAnchor}if(slide.length){text=text+"-"+slideAnchor}text=text.replace("/","-").replace("#","");var classRe=new RegExp("\\b\\s?"+VIEWING_PREFIX+"-[^\\s]+\\b","g");$body[0].className=$body[0].className.replace(classRe,"");$body.addClass(VIEWING_PREFIX+"-"+text)}function support3d(){var el=document.createElement("p"),has3d,transforms={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(el,null);for(var t in transforms){if(el.style[t]!==undefined){el.style[t]="translate3d(1px,1px,1px)";has3d=window.getComputedStyle(el).getPropertyValue(transforms[t])}}document.body.removeChild(el);return has3d!==undefined&&has3d.length>0&&has3d!=="none"}function removeMouseWheelHandler(){if(document.addEventListener){document.removeEventListener("mousewheel",MouseWheelHandler,false);document.removeEventListener("wheel",MouseWheelHandler,false)}else{document.detachEvent("onmousewheel",MouseWheelHandler)}}function addMouseWheelHandler(){if(document.addEventListener){document.addEventListener("mousewheel",MouseWheelHandler,false);document.addEventListener("wheel",MouseWheelHandler,false)}else{document.attachEvent("onmousewheel",MouseWheelHandler)}}function addTouchHandler(){if(isTouchDevice||isTouch){var MSPointer=getMSPointer();$(WRAPPER_SEL).off("touchstart "+MSPointer.down).on("touchstart "+MSPointer.down,touchStartHandler);$(WRAPPER_SEL).off("touchmove "+MSPointer.move).on("touchmove "+MSPointer.move,touchMoveHandler)}}function removeTouchHandler(){if(isTouchDevice||isTouch){var MSPointer=getMSPointer();$(WRAPPER_SEL).off("touchstart "+MSPointer.down);$(WRAPPER_SEL).off("touchmove "+MSPointer.move)}}function getMSPointer(){var pointer;if(window.PointerEvent){pointer={down:"pointerdown",move:"pointermove"}}else{pointer={down:"MSPointerDown",move:"MSPointerMove"}}return pointer}function getEventsPage(e){var events=[];events.y=typeof e.pageY!=="undefined"&&(e.pageY||e.pageX)?e.pageY:e.touches[0].pageY;events.x=typeof e.pageX!=="undefined"&&(e.pageY||e.pageX)?e.pageX:e.touches[0].pageX;if(isTouch&&isReallyTouch(e)){events.y=e.touches[0].pageY;events.x=e.touches[0].pageX}return events}function silentLandscapeScroll(activeSlide,noCallbacks){FP.setScrollingSpeed(0,"internal");if(typeof noCallbacks!=="undefined"){isResizing=true}landscapeScroll(activeSlide.closest(SLIDES_WRAPPER_SEL),activeSlide);if(typeof noCallbacks!=="undefined"){isResizing=false}FP.setScrollingSpeed(originals.scrollingSpeed,"internal")}function silentScroll(top){if(options.scrollBar){container.scrollTop(top)}else if(options.css3){var translate3d="translate3d(0px, -"+top+"px, 0px)";transformContainer(translate3d,false)}else{container.css("top",-top)}}function getTransforms(translate3d){return{"-webkit-transform":translate3d,"-moz-transform":translate3d,"-ms-transform":translate3d,transform:translate3d}}function setIsScrollable(value,direction){switch(direction){case"up":isScrollAllowed.up=value;break;case"down":isScrollAllowed.down=value;break;case"left":isScrollAllowed.left=value;break;case"right":isScrollAllowed.right=value;break;case"all":FP.setAllowScrolling(value)}}FP.destroy=function(all){FP.setAutoScrolling(false,"internal");FP.setAllowScrolling(false);FP.setKeyboardScrolling(false);container.addClass(DESTROYED);$window.off("scroll",scrollHandler).off("hashchange",hashChangeHandler).off("resize",resizeHandler);$document.off("click",SECTION_NAV_SEL+" a").off("mouseenter",SECTION_NAV_SEL+" li").off("mouseleave",SECTION_NAV_SEL+" li").off("click",SLIDES_NAV_LINK_SEL).off("mouseover",options.normalScrollElements).off("mouseout",options.normalScrollElements);$(SECTION_SEL).off("click",SLIDES_ARROW_SEL);if(all){destroyStructure()}};function destroyStructure(){silentScroll(0);$(SECTION_NAV_SEL+", "+SLIDES_NAV_SEL+", "+SLIDES_ARROW_SEL).remove();$(SECTION_SEL).css({height:"","background-color":"",padding:""});$(SLIDE_SEL).css({width:""});container.css({height:"",position:"","-ms-touch-action":"","touch-action":""});$(SECTION_SEL+", "+SLIDE_SEL).each(function(){removeSlimScroll($(this));$(this).removeClass(TABLE+" "+ACTIVE)});removeAnimation(container);container.find(TABLE_CELL_SEL+", "+SLIDES_CONTAINER_SEL+", "+SLIDES_WRAPPER_SEL).each(function(){$(this).replaceWith(this.childNodes)});$htmlBody.scrollTop(0)}function setVariableState(variable,value,type){options[variable]=value;if(type!=="internal"){originals[variable]=value}}function displayWarnings(){if(options.continuousVertical&&(options.loopTop||options.loopBottom)){options.continuousVertical=false;showError("warn","Option `loopTop/loopBottom` is mutually exclusive with `continuousVertical`; `continuousVertical` disabled")}if(options.continuousVertical&&options.scrollBar){options.continuousVertical=false;showError("warn","Option `scrollBar` is mutually exclusive with `continuousVertical`; `continuousVertical` disabled")}$.each(options.anchors,function(index,name){if($("#"+name).length||$('[name="'+name+'"]').length){showError("error","data-anchor tags can not have the same value as any `id` element on the site (or `name` element for IE).")}})}function showError(type,text){console&&console[type]&&console[type]("fullPage: "+text)}}});